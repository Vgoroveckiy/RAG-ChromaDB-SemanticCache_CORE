graph TD
    subgraph Ядро системы
        A[RAGSystem] --> B[VectorDatabaseManager]
        A --> C[EmbeddingManager]
        A --> D[LLMManager]
    end

    subgraph Сервисы обработки
        B --> E[IndexingService]
        E --> F[DocumentParser]
        E --> G[DocumentTypeDetector]
        E --> H[EmbeddingService]
    end

    subgraph Интерфейсы
        A --> I[ConsoleProvider]
        A --> J[TelegramProvider]
        A --> K[REST API Gateway]
    end

    subgraph Хранилища
        B --> L[ChromaDB]
        B --> M[ChromaCache]
    end

    subgraph Вспомогательные модули
        C --> N[TextCleaner]
        C --> O[ChunkUtils]
        C --> P[GPUUtils]
    end

    %% Взаимодействия
    I --> A
    J --> A
    K --> A
    L --> E
    M --> A
